# 📚 Sistema de Capacitación y Onboarding para Empleados

## 🎯 OBJETIVO

Crear un sistema completo de aprendizaje y capacitación para empleados nuevos que les enseñe todo sobre el turismo religioso, ventas, productos, y la plataforma Spirit Tours.

---

## 📋 REQUERIMIENTOS PRINCIPALES

### ✅ Solicitado por el Cliente:

1. **Sistema de Learning/Capacitación:**
   - Aprendizaje sobre turismo religioso
   - Puntos importantes del negocio
   - Cómo hablar con diferentes tipos de clientes:
     - Sacerdotes católicos
     - Pastores
     - Líderes de viajes
     - Clientes regulares
   - Técnicas de venta
   - Itinerarios y destinos
   - Quiénes somos (Spirit Tours)
   - Estrategias de ventas
   - Expresiones y vocabulario de turismo

2. **Control del Administrador:**
   - Agregar/editar contenido de capacitación
   - Activar/desactivar modo obligatorio
   - Definir secciones obligatorias vs opcionales
   - Configurar plazos de completitud
   - Dashboard de seguimiento

3. **Sistema Obligatorio:**
   - Empleados nuevos deben completar secciones obligatorias
   - Sistema bloqueado hasta completar capacitación
   - Recordatorios automáticos
   - Tracking de progreso

4. **Plazos Configurables:**
   - Contenido crítico: Obligatorio antes de acceder al sistema
   - Contenido importante: 1-2 meses según configuración
   - Contenido básico: Información de destinos y productos

5. **Información por Categorías:**
   - Obligatoria (crítica): Debe completarse antes de trabajar
   - Importante: Debe completarse en plazo definido
   - Básica: Información de referencia sobre destinos

---

## 💡 IDEAS ADICIONALES SUGERIDAS

### **1. Sistema de Certificación por Niveles**
- 🥉 **Nivel Bronce:** Conocimientos básicos (obligatorio)
- 🥈 **Nivel Plata:** Conocimientos intermedios (1 mes)
- 🥇 **Nivel Oro:** Conocimientos avanzados (2-3 meses)
- 💎 **Nivel Diamante:** Experto en ventas y destinos (6 meses)

### **2. Módulos de Aprendizaje Interactivo**
- ✅ Videos tutoriales
- ✅ Documentos PDF descargables
- ✅ Presentaciones interactivas
- ✅ Quizzes y exámenes
- ✅ Simulaciones de conversaciones
- ✅ Role-playing virtual

### **3. Gamificación**
- 🏆 Puntos por completar módulos
- 🎖️ Insignias y logros
- 📊 Leaderboard de empleados
- 🎁 Recompensas por completitud rápida

### **4. Biblioteca de Recursos**
- 📚 Scripts de ventas por tipo de cliente
- 🗺️ Mapas interactivos de destinos
- 📸 Galería de fotos de tours
- 🎬 Videos de testimonios
- 📝 Templates de propuestas
- 💼 Casos de éxito

### **5. Práctica con IA**
- 🤖 Chatbot que simula clientes
- 🗣️ Práctica de conversaciones
- 📞 Simulación de llamadas de ventas
- ✍️ Revisión de emails de ventas
- 📊 Análisis de desempeño con feedback

### **6. Mentorship Virtual**
- 👥 Asignación de mentor veterano
- 💬 Chat directo con mentor
- 📅 Sesiones de Q&A programadas
- 📝 Evaluación por mentor

### **7. Especialización por Segmento**
- ⛪ **Track Católico:** Enfoque en sacerdotes, parroquias
- ✝️ **Track Protestante:** Enfoque en pastores, iglesias
- 🌍 **Track Grupos:** Enfoque en líderes de viaje
- 👤 **Track Individual:** Enfoque en clientes directos

### **8. Evaluaciones y Certificaciones**
- 📝 Quiz al final de cada módulo
- 🎓 Examen final de certificación
- 📜 Certificado digital descargable
- 🔄 Recertificación anual

### **9. Base de Conocimientos**
- ❓ FAQ actualizada constantemente
- 🔍 Buscador de información
- 📖 Glosario de términos
- 🌐 Links a recursos externos

### **10. Analytics y Reportes**
- 📊 Dashboard de progreso del empleado
- ⏱️ Tiempo invertido en capacitación
- 📈 Tasa de completitud
- 🎯 Áreas que necesitan refuerzo
- 📉 Módulos con más dificultad

---

## 🗂️ ESTRUCTURA DE MÓDULOS PROPUESTA

### **CATEGORÍA A: OBLIGATORIA (Crítica)** 🔴
*Debe completarse antes de acceder al sistema completo*

#### **Módulo 1: Introducción a Spirit Tours** ⏱️ 2 horas
- ✅ Historia de la empresa
- ✅ Misión, visión y valores
- ✅ Estructura organizacional
- ✅ Servicios que ofrecemos
- ✅ Diferenciadores vs competencia
- **Quiz:** 20 preguntas, mínimo 80% correcto

#### **Módulo 2: Fundamentos del Turismo Religioso** ⏱️ 3 horas
- ✅ ¿Qué es el turismo religioso?
- ✅ Diferencias entre peregrinación y turismo
- ✅ Principales destinos religiosos del mundo
- ✅ Temporadas y fechas importantes
- ✅ Consideraciones especiales
- **Quiz:** 25 preguntas, mínimo 85% correcto

#### **Módulo 3: Tipos de Clientes y Comunicación** ⏱️ 4 horas
- ✅ Perfil del sacerdote católico
  - Cómo dirigirse (Padre, Monseñor, etc.)
  - Temas de interés
  - Sensibilidades culturales
  - Scripts de conversación
- ✅ Perfil del pastor protestante
  - Cómo dirigirse (Pastor, Reverendo)
  - Diferencias con católicos
  - Necesidades específicas
  - Scripts de conversación
- ✅ Perfil del líder de viajes
  - Cómo dirigirse
  - Expectativas y necesidades
  - Manejo de grupos grandes
  - Scripts de conversación
- ✅ Cliente individual/familiar
  - Diferentes perfiles
  - Necesidades y motivaciones
  - Scripts de conversación
- **Simulación:** 2 role-plays obligatorios con IA
- **Quiz:** 30 preguntas, mínimo 90% correcto

#### **Módulo 4: Proceso de Ventas y Sistema** ⏱️ 3 horas
- ✅ Funnel de ventas completo
- ✅ Cómo usar el CRM
- ✅ Cómo crear cotizaciones
- ✅ Proceso de reservas
- ✅ Manejo de pagos
- ✅ Seguimiento post-venta
- ✅ Políticas de cancelación
- **Práctica:** Crear 1 cotización de prueba
- **Quiz:** 25 preguntas, mínimo 85% correcto

#### **Módulo 5: Ética y Compliance** ⏱️ 1 hora
- ✅ Código de ética de Spirit Tours
- ✅ Políticas de privacidad
- ✅ GDPR y protección de datos
- ✅ Manejo de información sensible
- ✅ Qué hacer en situaciones difíciles
- **Quiz:** 15 preguntas, mínimo 100% correcto

**⏱️ TOTAL CATEGORÍA A: ~13 horas**
**📊 Completitud requerida: 100% antes de activar sistema completo**

---

### **CATEGORÍA B: IMPORTANTE (Alta prioridad)** 🟡
*Debe completarse en 1-2 meses (configurable por admin)*

#### **Módulo 6: Destinos Principales - Europa** ⏱️ 5 horas
- ✅ **Tierra Santa (Israel/Palestina)**
  - Jerusalén, Belén, Nazaret
  - Lugares sagrados católicos y protestantes
  - Consideraciones de seguridad
  - Itinerarios típicos
  - Mejores temporadas
- ✅ **Roma e Italia**
  - Vaticano y basílicas
  - Asís, Loreto, Padua
  - Audiencias papales
  - Itinerarios tipo
- ✅ **España - Camino de Santiago**
  - Rutas del Camino
  - Etapas recomendadas
  - Nivel físico requerido
  - Itinerarios completos
- ✅ **Portugal - Fátima**
  - Santuario de Fátima
  - Historia de las apariciones
  - Combinación con otros destinos
- ✅ **Francia - Lourdes**
  - Santuario de Lourdes
  - Historia y milagros
  - Procesiones y actividades
- **Quiz:** 40 preguntas, mínimo 80%

#### **Módulo 7: Destinos Principales - América** ⏱️ 4 horas
- ✅ **México**
  - Basílica de Guadalupe
  - Santuarios marianos
  - Tours coloniales
  - Combinaciones populares
- ✅ **Colombia**
  - Buga, Las Lajas, Monserrate
  - Tours religiosos + culturales
- ✅ **Brasil**
  - Aparecida do Norte
  - Cristo Redentor
- ✅ **Perú**
  - Cusco, Machu Picchu
  - Tours místicos
- **Quiz:** 30 preguntas, mínimo 80%

#### **Módulo 8: Estrategias de Ventas Avanzadas** ⏱️ 4 horas
- ✅ Técnicas de cierre de ventas
- ✅ Manejo de objeciones
- ✅ Upselling y cross-selling
- ✅ Venta a grupos grandes
- ✅ Negociación de precios
- ✅ Creación de propuestas ganadoras
- **Simulación:** 3 casos de venta complejos
- **Quiz:** 25 preguntas, mínimo 85%

#### **Módulo 9: Itinerarios y Personalización** ⏱️ 3 horas
- ✅ Cómo crear itinerarios personalizados
- ✅ Combinación de destinos
- ✅ Consideraciones logísticas
- ✅ Presupuestación
- ✅ Proveedores y partners
- **Práctica:** Crear 2 itinerarios completos
- **Quiz:** 20 preguntas, mínimo 80%

#### **Módulo 10: Servicio al Cliente Excepcional** ⏱️ 2 horas
- ✅ Estándares de servicio Spirit Tours
- ✅ Manejo de quejas y reclamos
- ✅ Comunicación proactiva
- ✅ Seguimiento y fidelización
- **Casos prácticos:** 5 situaciones reales
- **Quiz:** 20 preguntas, mínimo 85%

**⏱️ TOTAL CATEGORÍA B: ~18 horas**
**📊 Completitud requerida: 100% en plazo configurado (1-2 meses)**

---

### **CATEGORÍA C: BÁSICA (Información de referencia)** 🟢
*Información disponible siempre, sin plazo estricto*

#### **Módulo 11: Otros Destinos Religiosos** ⏱️ Libre
- ✅ Egipto (Monte Sinaí, monasterios)
- ✅ Grecia (Patmos, Meteora)
- ✅ Turquía (Éfeso, Capadocia)
- ✅ India (santuarios católicos)
- ✅ Asia (Filipinas, Vietnam)
- **Sin quiz obligatorio**

#### **Módulo 12: Vocabulario y Expresiones de Turismo** ⏱️ Libre
- ✅ Términos en español
- ✅ Términos en inglés
- ✅ Términos en portugués
- ✅ Frases útiles por idioma
- ✅ Glosario religioso
- **Referencia permanente**

#### **Módulo 13: Recursos y Templates** ⏱️ Libre
- ✅ Templates de emails
- ✅ Templates de propuestas
- ✅ Scripts de llamadas
- ✅ FAQ por tipo de cliente
- ✅ Calculadoras útiles
- **Biblioteca de descarga**

#### **Módulo 14: Historia del Cristianismo** ⏱️ Libre
- ✅ Orígenes del cristianismo
- ✅ Principales eventos históricos
- ✅ Cisma Oriente-Occidente
- ✅ Reforma protestante
- ✅ Concilios importantes
- **Cultura general, sin quiz**

#### **Módulo 15: Galería Multimedia** ⏱️ Libre
- ✅ Fotos de destinos
- ✅ Videos de tours realizados
- ✅ Testimonios de clientes
- ✅ Webinars grabados
- **Exploración libre**

**⏱️ TOTAL CATEGORÍA C: Variable (sin límite)**
**📊 Completitud: No obligatoria, pero recomendada**

---

## 🎯 SISTEMA DE PROGRESO Y BLOQUEOS

### **Flujo para Empleado Nuevo:**

```
DÍA 1: Registro
├─> Bienvenida personalizada
├─> Asignación automática de módulos obligatorios
├─> Email con instrucciones
└─> Sistema 80% BLOQUEADO (solo acceso a capacitación)

DÍAS 1-7: Categoría A (Obligatoria)
├─> Módulo 1: Introducción (2h) → Quiz 80%+
├─> Módulo 2: Turismo religioso (3h) → Quiz 85%+
├─> Módulo 3: Tipos de clientes (4h) → Simulación + Quiz 90%+
├─> Módulo 4: Proceso de ventas (3h) → Práctica + Quiz 85%+
├─> Módulo 5: Ética (1h) → Quiz 100%
└─> TOTAL: 13 horas / ~5-7 días laborales

AL COMPLETAR CATEGORÍA A:
├─> ✅ Sistema DESBLOQUEADO al 100%
├─> 🎉 Certificado de Nivel Bronce
├─> 📧 Notificación a supervisor
├─> 🔓 Acceso completo a plataforma
└─> 📅 Inicio de plazo para Categoría B

SEMANAS 2-8: Categoría B (Importante)
├─> Módulo 6: Destinos Europa (5h)
├─> Módulo 7: Destinos América (4h)
├─> Módulo 8: Ventas avanzadas (4h)
├─> Módulo 9: Itinerarios (3h)
├─> Módulo 10: Servicio cliente (2h)
├─> TOTAL: 18 horas / 1-2 meses
└─> Recordatorios cada 3 días

AL COMPLETAR CATEGORÍA B:
├─> 🥈 Certificado de Nivel Plata
├─> 📊 Evaluación de desempeño desbloqueada
├─> 💰 Posible aumento de comisión
└─> 🎓 Acceso a Categoría C

MESES 3-6: Categoría C (Básica)
├─> Exploración libre de módulos
├─> Sin plazos ni recordatorios
├─> Aprendizaje continuo
└─> 🥇 Nivel Oro al completar 80%+
```

---

## 🔔 SISTEMA DE RECORDATORIOS

### **Automatización de Notificaciones:**

#### **Email:**
- **Día 1:** "¡Bienvenido! Comienza tu capacitación hoy"
- **Día 3:** "Has completado el X%, ¡sigue así!"
- **Día 5:** "Recordatorio: Te quedan Y horas de capacitación obligatoria"
- **Día 7:** "⚠️ URGENTE: Debes completar la capacitación para acceder al sistema"
- **Categoría B - Cada 3 días:** "Recordatorio: Continúa tu capacitación avanzada"
- **1 semana antes del plazo:** "⏰ Te queda 1 semana para completar la capacitación"
- **1 día antes del plazo:** "🚨 ÚLTIMO DÍA para completar la capacitación"

#### **In-App (Banner):**
- Banner permanente en top: "📚 Capacitación pendiente: X% completado - Y horas restantes"
- Notificación popup al login: "Tienes módulos pendientes"
- Badge rojo en menú de capacitación

#### **Dashboard:**
- Widget visible siempre con progreso
- Lista de módulos pendientes
- Próximos vencimientos

#### **WhatsApp/SMS (Opcional):**
- Recordatorio 1 día antes del vencimiento
- Felicitación al completar

---

## 🎨 DISEÑO DE INTERFAZ (UI)

### **Dashboard de Capacitación del Empleado:**

```
┌─────────────────────────────────────────────────────────────┐
│ 📚 MI CAPACITACIÓN                                    🔔 [3] │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  🎯 TU PROGRESO GENERAL                                      │
│  ████████████░░░░░░░░  65% Completado                        │
│                                                               │
│  🥉 Nivel Bronce: ✅ COMPLETADO                              │
│  🥈 Nivel Plata:  ████████░░  40% (Vence en 15 días)        │
│  🥇 Nivel Oro:    ░░░░░░░░░░   0% (Disponible pronto)       │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│  📋 MÓDULOS OBLIGATORIOS PENDIENTES                          │
│                                                               │
│  ⏰ Módulo 8: Ventas Avanzadas                               │
│     ████████░░░░  80% | 30 min restantes | Vence: 5 días    │
│     [CONTINUAR] →                                             │
│                                                               │
│  🔒 Módulo 9: Itinerarios                                    │
│     ░░░░░░░░░░░░  0%  | 3 horas | Vence: 8 días             │
│     [COMENZAR] →                                              │
│                                                               │
│  🔒 Módulo 10: Servicio al Cliente                           │
│     ░░░░░░░░░░░░  0%  | 2 horas | Vence: 10 días            │
│     [BLOQUEADO - Completa Módulo 9 primero]                  │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│  ✅ MÓDULOS COMPLETADOS (5)                                  │
│                                                               │
│  ✓ Módulo 1: Introducción a Spirit Tours     95% - 2h       │
│  ✓ Módulo 2: Turismo Religioso               88% - 3h       │
│  ✓ Módulo 3: Tipos de Clientes               92% - 4h       │
│  ✓ Módulo 4: Proceso de Ventas               87% - 3h       │
│  ✓ Módulo 5: Ética y Compliance             100% - 1h       │
│                                                               │
│  📜 [VER CERTIFICADO NIVEL BRONCE]                           │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│  📚 BIBLIOTECA DE RECURSOS (Acceso libre)                    │
│                                                               │
│  🗺️  Mapas de destinos                                       │
│  📸  Galería de fotos                                         │
│  🎬  Videos testimoniales                                     │
│  📝  Templates y scripts                                      │
│  ❓  FAQ                                                      │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### **Vista de Módulo Individual:**

```
┌─────────────────────────────────────────────────────────────┐
│ ← Volver     Módulo 8: Estrategias de Ventas Avanzadas      │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  🎯 PROGRESO: ████████░░░░ 80% (4 de 5 lecciones)           │
│  ⏱️  TIEMPO: 3h 15min invertidas / 4h estimadas              │
│  📅 VENCE: En 5 días (22 de Octubre, 2024)                   │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  📑 LECCIONES                                                 │
│                                                               │
│  ✅ 1. Técnicas de Cierre de Ventas (45 min)                │
│      Video + Lectura + Quiz (90%)                            │
│                                                               │
│  ✅ 2. Manejo de Objeciones (50 min)                         │
│      Video + Práctica interactiva + Quiz (85%)               │
│                                                               │
│  ✅ 3. Upselling y Cross-selling (40 min)                    │
│      Lectura + Casos prácticos + Quiz (92%)                  │
│                                                               │
│  ✅ 4. Venta a Grupos Grandes (45 min)                       │
│      Video + Simulación + Quiz (88%)                         │
│                                                               │
│  🔵 5. Negociación de Precios (55 min) ← ACTUAL              │
│                                                               │
│      📹 Video introductorio (15 min)       [▶️ VER]         │
│      📄 Lectura: Guía completa (20 min)    [📖 LEER]        │
│      🎮 Simulación interactiva (15 min)    [🎯 PRACTICAR]   │
│      📝 Quiz final (5 min)                 [🔒 BLOQUEADO]   │
│                                                               │
│                          [CONTINUAR] →                        │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  🎓 EXAMEN FINAL DEL MÓDULO                                  │
│  🔒 Disponible al completar todas las lecciones              │
│  📊 Requiere mínimo 85% para aprobar                         │
│  ♻️  Puedes reintentarlo hasta 3 veces                       │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## 🛠️ DASHBOARD DE ADMINISTRADOR

### **Panel de Control de Capacitación:**

```
┌─────────────────────────────────────────────────────────────┐
│ 🎓 SISTEMA DE CAPACITACIÓN - ADMIN                           │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ⚙️  CONFIGURACIÓN GLOBAL                                    │
│                                                               │
│  🔐 Modo obligatorio:  [●] Activado  [ ] Desactivado        │
│  ⏱️  Plazo Categoría B: [30] días (desde completar Cat. A)  │
│  🔔 Recordatorios:     [●] Activados  [ ] Desactivados      │
│  📧 Frecuencia email:   Cada [3] días                        │
│  🎯 % mínimo aprobación: [85]%                               │
│                                                               │
│                        [GUARDAR CAMBIOS]                      │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  📊 ESTADÍSTICAS GENERALES                                   │
│                                                               │
│  👥 Empleados en capacitación:     15                        │
│  ✅ Completaron Cat. A (Nivel Bronce): 12 (80%)             │
│  🥈 Completaron Cat. B (Nivel Plata):   8 (53%)             │
│  ⚠️  Con capacitación vencida:      2 (13%)                 │
│  📈 Tasa promedio de completitud:   78%                      │
│  ⏱️  Tiempo promedio Cat. A:         6.5 días                │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  👤 EMPLEADOS                                    🔍 [Buscar] │
│                                                               │
│  Nombre          Nivel    Cat.A  Cat.B  Vence   Acción      │
│  ─────────────────────────────────────────────────────────  │
│  Juan Pérez      🥈 Plata  100%   85%   15d    [VER]        │
│  María García    🥉 Bronce 100%   40%   ⚠️ 2d   [RECORDAR]  │
│  Pedro López     🔒 ---     65%    0%   ⚠️ HOY  [ALERTAR]   │
│  Ana Martínez    🥇 Oro    100%  100%    -     [VER]        │
│  ...                                                          │
│                                                               │
│                          [VER TODOS] →                        │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  📚 GESTIÓN DE CONTENIDO                                     │
│                                                               │
│  [+ CREAR MÓDULO]  [+ CREAR LECCIÓN]  [📊 ESTADÍSTICAS]    │
│                                                               │
│  Módulo                    Lecciones  Actualizado  Acción    │
│  ────────────────────────────────────────────────────────── │
│  1. Introducción             5        2 días      [EDITAR]  │
│  2. Turismo Religioso        7        1 semana    [EDITAR]  │
│  3. Tipos de Clientes       10        3 días      [EDITAR]  │
│  ...                                                          │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## 🗄️ ESTRUCTURA DE BASE DE DATOS

### **Nuevas Tablas:**

```sql
-- Módulos de capacitación
CREATE TABLE training_modules (
    id UUID PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    description TEXT,
    category VARCHAR(20) NOT NULL, -- 'obligatory', 'important', 'basic'
    estimated_hours DECIMAL(4,2),
    position INTEGER, -- Orden de módulos
    is_active BOOLEAN DEFAULT true,
    passing_score INTEGER DEFAULT 85, -- % mínimo para aprobar
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- Lecciones dentro de módulos
CREATE TABLE training_lessons (
    id UUID PRIMARY KEY,
    module_id UUID REFERENCES training_modules(id),
    title VARCHAR(200) NOT NULL,
    content_type VARCHAR(20), -- 'video', 'document', 'quiz', 'simulation'
    content_url TEXT,
    content_text TEXT, -- Contenido de texto
    estimated_minutes INTEGER,
    position INTEGER,
    is_required BOOLEAN DEFAULT true,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- Progreso de empleados por módulo
CREATE TABLE training_progress (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    module_id UUID REFERENCES training_modules(id),
    status VARCHAR(20), -- 'not_started', 'in_progress', 'completed', 'failed'
    progress_percentage INTEGER DEFAULT 0,
    started_at TIMESTAMP,
    completed_at TIMESTAMP,
    score DECIMAL(5,2), -- Score del examen final
    attempts INTEGER DEFAULT 0,
    time_spent_minutes INTEGER DEFAULT 0,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- Progreso por lección
CREATE TABLE training_lesson_progress (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    lesson_id UUID REFERENCES training_lessons(id),
    is_completed BOOLEAN DEFAULT false,
    score DECIMAL(5,2), -- Para quizzes
    time_spent_minutes INTEGER DEFAULT 0,
    completed_at TIMESTAMP,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- Quizzes y preguntas
CREATE TABLE training_quizzes (
    id UUID PRIMARY KEY,
    lesson_id UUID REFERENCES training_lessons(id),
    module_id UUID REFERENCES training_modules(id), -- Para exámenes finales
    title VARCHAR(200),
    passing_score INTEGER DEFAULT 80,
    max_attempts INTEGER DEFAULT 3,
    time_limit_minutes INTEGER,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

CREATE TABLE training_quiz_questions (
    id UUID PRIMARY KEY,
    quiz_id UUID REFERENCES training_quizzes(id),
    question_text TEXT NOT NULL,
    question_type VARCHAR(20), -- 'multiple_choice', 'true_false', 'open'
    options JSONB, -- Array de opciones
    correct_answer TEXT,
    explanation TEXT,
    points INTEGER DEFAULT 1,
    position INTEGER,
    created_at TIMESTAMP
);

-- Intentos de quiz
CREATE TABLE training_quiz_attempts (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    quiz_id UUID REFERENCES training_quizzes(id),
    score DECIMAL(5,2),
    answers JSONB, -- Respuestas del usuario
    passed BOOLEAN,
    started_at TIMESTAMP,
    completed_at TIMESTAMP,
    created_at TIMESTAMP
);

-- Certificaciones
CREATE TABLE training_certifications (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    level VARCHAR(20), -- 'bronze', 'silver', 'gold', 'diamond'
    issued_at TIMESTAMP,
    expires_at TIMESTAMP, -- Para recertificación anual
    certificate_url TEXT, -- URL del PDF generado
    created_at TIMESTAMP
);

-- Configuración del sistema
CREATE TABLE training_configuration (
    id UUID PRIMARY KEY,
    mandatory_mode_enabled BOOLEAN DEFAULT true,
    category_b_deadline_days INTEGER DEFAULT 30,
    reminders_enabled BOOLEAN DEFAULT true,
    reminder_frequency_days INTEGER DEFAULT 3,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- Recordatorios enviados (tracking)
CREATE TABLE training_reminders_sent (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    reminder_type VARCHAR(50),
    sent_at TIMESTAMP,
    created_at TIMESTAMP
);
```

---

## 🚀 IMPLEMENTACIÓN TÉCNICA

### **Stack Tecnológico:**

**Backend:**
- FastAPI para APIs REST
- SQLAlchemy para ORM
- PostgreSQL para base de datos
- Celery para tareas asíncronas (recordatorios)
- Redis para caché de progreso

**Frontend:**
- React + TypeScript
- Material-UI para componentes
- React Player para videos
- PDF.js para visualización de PDFs
- Chart.js para gráficos de progreso

**Multimedia:**
- AWS S3 para almacenamiento de videos/PDFs
- Vimeo/YouTube para hosting de videos
- Cloudinary para imágenes optimizadas

**IA:**
- GPT-4 para chatbot de práctica
- Speech-to-Text para simulaciones
- Text-to-Speech para pronunciación

---

## 🎯 ROADMAP DE IMPLEMENTACIÓN

### **Fase 1: Core System (2-3 semanas)**
- ✅ Modelos de base de datos
- ✅ API REST completa (CRUD módulos, lecciones, progreso)
- ✅ Sistema de tracking de progreso
- ✅ Dashboard básico de empleado
- ✅ Dashboard básico de admin

### **Fase 2: Contenido (2 semanas)**
- ✅ Creación de Módulos 1-5 (Categoría A)
- ✅ Quizzes y exámenes
- ✅ Sistema de bloqueo/desbloqueo
- ✅ Certificaciones nivel Bronce

### **Fase 3: Features Avanzados (2 semanas)**
- ✅ Módulos 6-10 (Categoría B)
- ✅ Sistema de recordatorios automáticos
- ✅ Reportes y analytics
- ✅ Certificaciones nivel Plata/Oro

### **Fase 4: Gamificación (1 semana)**
- ✅ Sistema de puntos e insignias
- ✅ Leaderboard
- ✅ Certificados personalizados

### **Fase 5: IA y Simulaciones (2 semanas)**
- ✅ Chatbot de práctica
- ✅ Simulaciones de ventas
- ✅ Role-playing virtual

---

## 📊 MÉTRICAS DE ÉXITO

### **KPIs del Sistema:**

1. **Tasa de Completitud:**
   - Objetivo: >90% empleados completan Cat. A en 7 días
   - Objetivo: >80% empleados completan Cat. B en plazo

2. **Tiempo de Onboarding:**
   - Antes: 30+ días hasta productividad
   - Después: 7 días para acceso completo, 30 días para expertis

3. **Performance de Ventas:**
   - Incremento en tasa de conversión de empleados capacitados
   - Reducción en tiempo de cierre de ventas

4. **Satisfacción:**
   - Encuesta post-capacitación: >4.5/5 estrellas
   - NPS de empleados nuevos

5. **Retención:**
   - Reducción en rotación de empleados nuevos
   - Aumento en confianza para vender

---

¿Te parece bien esta estructura? ¿Quieres que proceda con la implementación completa del sistema?
